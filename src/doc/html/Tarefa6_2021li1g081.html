<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa6_2021li1g081</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa6_2021li1g081</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:resolveJogo">resolveJogo</a> :: Int -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>]</li><li class="src short"><a href="#v:tentaRec">tentaRec</a> :: Int -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>]</li><li class="src short"><a href="#v:repetidoJogo">repetidoJogo</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; Bool</li><li class="src short"><a href="#v:possivelTerminar">possivelTerminar</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; Bool</li><li class="src short"><a href="#v:movimentosTerminar">movimentosTerminar</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>]</li><li class="src short"><a href="#v:tentaCaixa">tentaCaixa</a> :: Int -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; [(Int, Int)] -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>]</li><li class="src short"><a href="#v:possivelPousarCaixa">possivelPousarCaixa</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:tentaLocalCaixa">tentaLocalCaixa</a> :: Int -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; [(Int, Int)] -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>]</li><li class="src short"><a href="#v:procuraCaixas">procuraCaixas</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:pegaCaixa">pegaCaixa</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; ([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)</li><li class="src short"><a href="#v:contornarCaixa">contornarCaixa</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; ([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)</li><li class="src short"><a href="#v:possivelPousarCaixaDireita">possivelPousarCaixaDireita</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; (Int, Int) -&gt; (Int, Int) -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:procuraEscadaDir">procuraEscadaDir</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; (Int, Int) -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:possivelPousarCaixaEsquerda">possivelPousarCaixaEsquerda</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; (Int, Int) -&gt; (Int, Int) -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:procuraEscadaEsq">procuraEscadaEsq</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; (Int, Int) -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:possivelTrepar">possivelTrepar</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Bool</li><li class="src short"><a href="#v:procuraPortas">procuraPortas</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(Int, Int)]</li><li class="src short"><a href="#v:largaCaixa">largaCaixa</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; ([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)</li><li class="src short"><a href="#v:colocaLateral">colocaLateral</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; ([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)</li><li class="src short"><a href="#v:colocaCostas">colocaCostas</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; ([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:resolveJogo" class="def">resolveJogo</a> :: Int -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] <a href="#v:resolveJogo" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:resolveJogo" title="Tarefa6_2021li1g081">resolveJogo</a></code> &#233; a funcao principal desta tarefa, &#233; a ela que passamos o mapa e o limite de movimentos para a resolucao do nivel</p></div></div><div class="top"><p class="src"><a id="v:tentaRec" class="def">tentaRec</a> :: Int -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] <a href="#v:tentaRec" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:tentaRec" title="Tarefa6_2021li1g081">tentaRec</a></code> tenta recursivamente resolver o nivel</p></div></div><div class="top"><p class="src"><a id="v:repetidoJogo" class="def">repetidoJogo</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; Bool <a href="#v:repetidoJogo" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:repetidoJogo" title="Tarefa6_2021li1g081">repetidoJogo</a></code> verifica se ja visitamos o jogo atual, caso ja o tenhamos feito entao iremos tentar de novo</p></div></div><div class="top"><p class="src"><a id="v:possivelTerminar" class="def">possivelTerminar</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; Bool <a href="#v:possivelTerminar" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:possivelTerminar" title="Tarefa6_2021li1g081">possivelTerminar</a></code> verifica se conseguimos terminar o nivel sem movimentar mais caixas</p></div></div><div class="top"><p class="src"><a id="v:movimentosTerminar" class="def">movimentosTerminar</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] <a href="#v:movimentosTerminar" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:movimentosTerminar" title="Tarefa6_2021li1g081">movimentosTerminar</a></code> &#233; muito semelhante &#224; anterior, mas em vez de verificar se &#233; possivel terminar calcula os movimentos (nesta fase ja temos a certeza que &#233; possivel terminar) </p></div></div><div class="top"><p class="src"><a id="v:tentaCaixa" class="def">tentaCaixa</a> :: Int -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; [(Int, Int)] -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] <a href="#v:tentaCaixa" class="selflink">#</a></p><div class="doc"><p>tenta caixa recebe uma lista de todas as caixas e vai pegar numa caixa de cada vez e chama a tentalocalcaixa para tentar pousar cada caixa em cada local possivel</p></div></div><div class="top"><p class="src"><a id="v:possivelPousarCaixa" class="def">possivelPousarCaixa</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [(Int, Int)] <a href="#v:possivelPousarCaixa" class="selflink">#</a></p><div class="doc"><p>a funcao <code><a href="Tarefa6_2021li1g081.html#v:possivelPousarCaixa" title="Tarefa6_2021li1g081">possivelPousarCaixa</a></code> calcula os locais onde e possivel pousar a caixa depois de a agarrar</p></div></div><div class="top"><p class="src"><a id="v:tentaLocalCaixa" class="def">tentaLocalCaixa</a> :: Int -&gt; [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] -&gt; [(Int, Int)] -&gt; <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; [<a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>] -&gt; Maybe [<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>] <a href="#v:tentaLocalCaixa" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:tentaLocalCaixa" title="Tarefa6_2021li1g081">tentaLocalCaixa</a></code> tenta pousar cada caixa em todos os locais possiveis chamando recursivamente a funcao tentaRec</p></div></div><div class="top"><p class="src"><a id="v:procuraCaixas" class="def">procuraCaixas</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; [(Int, Int)] <a href="#v:procuraCaixas" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:procuraCaixas" title="Tarefa6_2021li1g081">procuraCaixas</a></code> recebe as coordenadas da ultima caixa que pegamos e procura todas as outras caixas possiveis de pegar e devolve as coordenadas</p></div></div><div class="top"><p class="src"><a id="v:pegaCaixa" class="def">pegaCaixa</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; ([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>) <a href="#v:pegaCaixa" class="selflink">#</a></p><div class="doc"><p>a funcao <code><a href="Tarefa6_2021li1g081.html#v:pegaCaixa" title="Tarefa6_2021li1g081">pegaCaixa</a></code> devolve os Movimentos para pegar na caixa. Devolve os movimentos e o jogo (para evitar ser recalculado)</p></div></div><div class="top"><p class="src"><a id="v:contornarCaixa" class="def">contornarCaixa</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; ([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>) <a href="#v:contornarCaixa" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:contornarCaixa" title="Tarefa6_2021li1g081">contornarCaixa</a></code> caixa so &#233; chamada no caso de o jogador esta em cima de uma caixa que estamos a tentar pegar</p></div></div><div class="top"><p class="src"><a id="v:possivelPousarCaixaDireita" class="def">possivelPousarCaixaDireita</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; (Int, Int) -&gt; (Int, Int) -&gt; [(Int, Int)] <a href="#v:possivelPousarCaixaDireita" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:possivelPousarCaixaDireita" title="Tarefa6_2021li1g081">possivelPousarCaixaDireita</a></code> verifica se  &#233; possivel pousar a caixa &#225; direita do jogador</p></div></div><div class="top"><p class="src"><a id="v:procuraEscadaDir" class="def">procuraEscadaDir</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; (Int, Int) -&gt; [(Int, Int)] <a href="#v:procuraEscadaDir" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:procuraEscadaDir" title="Tarefa6_2021li1g081">procuraEscadaDir</a></code> procura estando voltado &#224; direita uma escada invertida no mapa &#224; esquerda (caso muito particular, nivel 5 do jogo)</p></div></div><div class="top"><p class="src"><a id="v:possivelPousarCaixaEsquerda" class="def">possivelPousarCaixaEsquerda</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; (Int, Int) -&gt; (Int, Int) -&gt; [(Int, Int)] <a href="#v:possivelPousarCaixaEsquerda" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:possivelPousarCaixaEsquerda" title="Tarefa6_2021li1g081">possivelPousarCaixaEsquerda</a></code> verifica se &#233; possivel pousar a caixa &#225; esquerda do jogador</p></div></div><div class="top"><p class="src"><a id="v:procuraEscadaEsq" class="def">procuraEscadaEsq</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; (Int, Int) -&gt; [(Int, Int)] <a href="#v:procuraEscadaEsq" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:procuraEscadaEsq" title="Tarefa6_2021li1g081">procuraEscadaEsq</a></code> Procura estando &#224; esquerda uma caixa invertida a direita</p></div></div><div class="top"><p class="src"><a id="v:possivelTrepar" class="def">possivelTrepar</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Bool <a href="#v:possivelTrepar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:procuraPortas" class="def">procuraPortas</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(Int, Int)] <a href="#v:procuraPortas" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:procuraPortas" title="Tarefa6_2021li1g081">procuraPortas</a></code> procura a porta e devolve as coordenadas</p></div></div><div class="top"><p class="src"><a id="v:largaCaixa" class="def">largaCaixa</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; ([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>) <a href="#v:largaCaixa" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:largaCaixa" title="Tarefa6_2021li1g081">largaCaixa</a></code> calcula os Movimentos para largar a caixa. Devolve os movimentos e o jogo (para evitar ser recalculado), recebe um jogo e as coordenadas de onde colocar a caixa</p></div></div><div class="top"><p class="src"><a id="v:colocaLateral" class="def">colocaLateral</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; ([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>) <a href="#v:colocaLateral" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:colocaLateral" title="Tarefa6_2021li1g081">colocaLateral</a></code> nesta fun&#231;ao calculamos os movimentos que o jogador tem de fazer para pousar a caixa no sitio onde est&#225;</p></div></div><div class="top"><p class="src"><a id="v:colocaCostas" class="def">colocaCostas</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; (Int, Int) -&gt; ([<a href="LI12122.html#t:Movimento" title="LI12122">Movimento</a>], <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a>) <a href="#v:colocaCostas" class="selflink">#</a></p><div class="doc"><p>A funcao <code><a href="Tarefa6_2021li1g081.html#v:colocaCostas" title="Tarefa6_2021li1g081">colocaCostas</a></code> devolve a lista de movimentos necessarios para colocar a caixa numa posicao que estava anteriormente atras do jogador</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>